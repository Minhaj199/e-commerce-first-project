
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <title>Reset Password</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sonsie+One&family=Sorts+Mill+Goudy&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/forgot/forgotEnter.css">
</head>

 {{> partial}}
     
    <div class="container-fluid ">
        <div style="height: 500px;" class="container mt-3" >
            <div class="row">
                <div  class="col-4 photo d-none d-md-block">
                    <img src="/images/img.jpg" alt="" >
                </div>
                <div class="col-4  form border">
                    <div class="row formRow">
                        <div class="col-12 col12-1" >
                            <a href="/user/log-in/forgot">&lt;Back</a>
                        </div>
                        <div class="col-12 col12-2">
                            <p class="reset-title">Reset Password</p>
                            <p>We will help you to reset your password. We have send you a OTP
                            to your registered Email, please enter in the below box</p>
                            <p class="timer" id="countdown">2:00</p>
                        </div>
                        <div class="col-12 box-3">
                            {{#if message }}
                                <p style="color: red;">{{message}}</p>
                            {{else}}
                            <p class="Enter-otp">Enter OTP</p>
                            {{/if}}
                            <div class="resent-div">
                                
                                <form class="" action='/user/log-in/otpResend/{{email}}' method="post">
                                        <button class="R-otp" type="submit"><p class="R-otp">Resent OTP</p></button>
                            </form></div>
                            <div class="row-form">
                                <form action="/user/log-in/validateOTP" method="post"> 
                                    <input class="otp-box" type="text" placeholder="OTP" name="userOTP">      
                                    <button class="submit" type="submit">submit</button>
                                </form>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>
        var timer;
        var minutes = 2;
        var seconds = 0;

        function startTimer() {
            timer = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            var countdownElement = document.getElementById('countdown');

            if (minutes === 0 && seconds === 0) {
                clearInterval(timer);
                // You can add additional logic here when the timer reaches 0
                countdownElement.textContent = '0:00';
            } else {
                if (seconds === 0) {
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }

                var secondsString = seconds < 10 ? '0' + seconds : seconds;
                countdownElement.textContent = minutes + ':' + secondsString;
            }
        }

        function resendOTP() {
            // Add your OTP resend logic here
            // For now, let's just reset the timer
            clearInterval(timer);
            minutes = 2;
            seconds = 0;
            document.getElementById('countdown').textContent = '2:00';
            startTimer();
        }

        // Start the timer when the page loads
        window.onload = startTimer;
    </script>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>